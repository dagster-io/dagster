---
title: dbt project
description: The base dbt project
last_update:
  author: Dennis Hume
sidebar_position: 30
---

With our base tables populated, we can turn our attention to the dbt project. The `analytics` directory located alongside our Dagster code in the `src` directory contains a small but representative dbt project:

```
├── marts
│   ├── daily_metrics.sql
│   └── location_metrics.sql
├── sources
│   └── raw_taxis.yml
└── staging
    ├── staging.yml
    ├── stg_trips.sql
    └── stg_zones.sql
```

It’s usually easier to include your dbt project in the same repository as your Dagster code. This allows Dagster to easily parse the metadata files generated by dbt commands, enabling tighter integration between the two tools.

## dbt sources

This dbt project consists of four dbt models and two sources. The sources are the `taxi_zones` and `taxi_trips` tables defined in the previous step:

<CodeExample
  path="docs_projects/project_dbt/src/project_dbt/analytics/models/sources/raw_taxis.yml"
  language="yaml"
  title="src/project_dbt/analytics/models/sources/raw_taxis.yml"
/>

Looking at the `profiles.yml` that defines the connection for the dbt project, we can set it to use the same DuckDB storage layer that was set for the DuckDB resource in the previous step, `/var/tmp/duckdb.db`:

<CodeExample
  path="docs_projects/project_dbt/src/project_dbt/analytics/profiles.yml"
  language="yaml"
  title="src/project_dbt/analytics/profiles.yml"
/>

## dbt models

As well as the sources there models in the dbt project that define the business logic we wish to apply. Most of the models are materialized as tables though one is set as an incremental, and one of the tables includes some lightweight tests (set in the `staging.yml`).

| Table              | Materialization | Tests |
| ------------------ | --------------- | ----- |
| `daily_metrics`    | Incremental     | No    |
| `location_metrics` | Table           | No    |
| `stg_trips`        | Table           | No    |
| `stg_zones`        | Table           | Yes   |

The SQL logic inside each model isn't the focus but this compact project still showcases many of the core patterns you’ll encounter when working with dbt, such as staging layers, source declarations, different materializations, and testing.

The next step will be turning these dbt models into Dagster assets, so they can be orchestrated, tracked, and monitored as part of your data pipeline.

## Next steps

- Continue this example with [dbt assets](/examples/dbt/dbt-assets)
