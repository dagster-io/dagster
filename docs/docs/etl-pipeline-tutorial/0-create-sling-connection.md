---
title: Create Sling connection
description: Ingest data with Sling
sidebar_position: 10
---

In the first step of the tutorial, you will use [Sling](https://slingdata.io/) to load files into [DuckDB](https://duckdb.org/). This data will serve as the foundation for the rest of the ETL tutorial. In this step, you will:

- Integrate with Sling
- Build software-defined assets from a Sling project using Dagster components
   
## 1. Define the Sling Component

To begin you will need to install Dagster's Sling integration:

```bash
uv pip install dagster-sling
```

This will install the Dagster library for Sling. Using `dg` this library also provides access to the Sling component. In order to view the Sling component, run `dg list`:


```bash
dg list components
```

The standard Dagster library supports several components, but after adding `dagster-sling` you will see a new entry for Sling:
```
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Key                                               ┃ Summary                                                     ┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
│ dagster_sling.SlingReplicationCollectionComponent │ Expose one or more Sling replications to Dagster as assets. │
└───────────────────────────────────────────────────┴─────────────────────────────────────────────────────────────┘
```

We can now scaffold using the Sling component:

```bash
dg scaffold defs 'dagster_sling.SlingReplicationCollectionComponent' ingest_files
```

This adds a Sling component, `ingest_files`, to the `etl_tutorial` module:

<CliInvocationExample path="docs_snippets/docs_snippets/guides/tutorials/etl_tutorial/tree/sling.txt" />

This is all the scaffolding necessary to integrate Sling with Dagster. Next we can customize the Sling component for our use case.

## 2. Configure the Sling component

For this tutorial we will be working with three files.

* raw_customers.csv
* raw_orders.csv
* raw_payements.csv

All of these files are in the cloud storage and we would like to ingest each of them into a separate table in DuckDB. Using sling this can be set in the `replication.yaml` generated by the component scaffolding. Update the `replication.yaml` file to the following:

<CodeExample
    path="docs_snippets/docs_snippets/guides/tutorials/etl_tutorial/src/etl_tutorial/defs/ingest_files/replication.yaml"
    language="yaml"
    title="src/etl_tutorial/defs/ingest_files/replication.yaml"
/>

This defines where the files are located and the table mapping of where they should be ingested.

The other configuration that needs to be set is in the `defs.yaml`. This defines the `SlingReplicationCollectionComponent` configuration. Here we will set the destination as DuckDB and location of the DuckDB database. We will also set the location of the `replication.yaml` that we defined previously.

<CodeExample
    path="docs_snippets/docs_snippets/guides/tutorials/etl_tutorial/src/etl_tutorial/defs/ingest_files/defs.yaml"
    language="yaml"
    title="src/etl_tutorial/defs/ingest_files/defs.yaml"
/>

To ensure everything is configured correctly you can use `dg check`:

```bash
dg check defs
```

This will ensure that the Dagster Definition can load correctly and will show any errors if the project cannot be loaded.

## 3. Executing the assets

Now that the Sling component has been fully configured you can view the asset catalog within the Dagster UI. Navigate back to [http://127.0.0.1:3000](http://127.0.0.1:3000) (or restart `dg dev` if you have closed it) and reload the definition:

1. Navigate to **Deployment**.
2. Click Reload definitions.

TODO: Screenshot

You should now see six assets. Each of the three files (customers, orders, payments) is represented by a pair of assets, one representing the file in cloud storage and one for the file as table within DuckDB with Sling. You can launch these assets in the UI:

1. Click **Assets**, then click "View global asset lineage" to see all of your assets.
2. Click materialize all.
3. Navigate to the runs tab and select the most recent run. Here you can see the logs from the run.

You can also launch those assets via the command line by using `dg` to launch specific assets:

```bash
dg launch --assets target/main/raw_customers,target/main/raw_orders,target/main/raw_payments
```

## Summary

We have already handled the ingestion layer of our ETL pipeline. The `etl_tutorial` module should look like this:

<CliInvocationExample path="docs_snippets/docs_snippets/guides/tutorials/etl_tutorial/tree/step-0.txt" />

You have seen how to use `dg` and components to quickly spin up Dagster assets and how to launch those assets with through the UI or CLI.

## Next steps

- Continue this tutorial with your [dbt](/etl-pipeline-tutorial/create-dbt-connection)
