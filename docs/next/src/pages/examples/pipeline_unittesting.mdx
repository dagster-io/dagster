import { ExampleReferenceLink } from 'components/ExampleReference';

# Pipeline Unit Testing

<ExampleReferenceLink filePath="examples/unittesting" />

This demonstrates how to execute a pipeline in a manner suitable
for unit testing. Here we focus on the mechanics and what APIs to use,
rather than how to design a pipeline such that resources are
abstracted away.

The workhouse function for unit-testing a pipeline is the `execute_pipeline`
function. Using this function one can execute a pipeline in process
and then test properties of the execution using the `PipelineExecutionResult`
object that it returns.

This function can also be used to execute a subset of a pipeline.

Finally we demonstrate how one can test against the event stream, which
is the most generic way that a solid communicates what happened during
its computation. Solids communicate events for starting, input and output
type checking, and for user-provided events such as expectations, materializations,
and outputs.

Pipelines:

```python literalinclude caption=repo.py
file:/pipeline_unittesting/repo.py
startAfter:start_repo_marker_0
endBefore:end_repo_marker_0
```

Tests:

```python literalinclude caption=repo.py
file:/pipeline_unittesting/tests/test_pipeline.py
startAfter:start_test_pipeline_marker_0
endBefore:end_test_pipeline_marker_0
```

## Open in a playground

[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#EXAMPLE=unittesting/https://github.com/dagster-io/dagster)

## Download

```
curl https://codeload.github.com/dagster-io/dagster/tar.gz/master | tar -xz --strip=2 dagster-master/examples/unittesting
cd unittesting
```
