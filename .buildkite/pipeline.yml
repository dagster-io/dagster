steps:
  - label: ":python: Simple test"
    command: |
      # Create a venv and install packages
      python -m venv venv
      source venv/bin/activate
      pip install dagster dagster-webserver create-dagster dagster-dg-cli loguru dagster-cloud pytest ruff==0.11.5 uv dagster_shared --upgrade pip
      
      # Test scaffolding a new project
      mkdir -p /tmp/test_project
      cd /tmp/test_project
      python -m dagster project scaffold --name myproject
      
      # Verify that the template contains @definitions and load_from_defs_folder
      grep -q "@definitions" myproject/myproject/definitions.py
      grep -q "load_from_defs_folder" myproject/myproject/definitions.py
      
      echo "âœ… Success! Template contains required functionality."