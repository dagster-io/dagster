[build-system]
requires = ["setuptools>=69.0"]
build-backend = "setuptools.build_meta"

[project]
name = "dagster"
version = "1!0+dev"
description = "Dagster is an orchestration platform for the development, production, and observation of data assets."
authors = [{name = "Dagster Labs", email = "hello@dagsterlabs.com"}]
license = "Apache-2.0"
readme = "README.md"
requires-python = ">=3.10,<3.15"
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Environment :: Console",
    "Environment :: Web Environment",
    "Intended Audience :: Developers",
    "Intended Audience :: System Administrators",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Programming Language :: Python :: 3.14",
    "Topic :: System :: Monitoring",
    "Topic :: Software Development :: Libraries :: Application Frameworks",
    "Operating System :: OS Independent",
]
dependencies = [
    # cli
    "click>=5.0,<9.0",
    "coloredlogs>=6.1,<=14.0",
    "Jinja2",
    # core
    "alembic>=1.2.1,!=1.6.3,!=1.7.0,!=1.11.0",
    "grpcio>=1.66.2; python_version>='3.13'",
    "grpcio>=1.44.0; python_version<'3.13'",
    "grpcio-health-checking>=1.66.2; python_version>='3.13'",
    "grpcio-health-checking>=1.44.0; python_version<'3.13'",
    "protobuf>=3.20.0,<7; python_version<'3.11'",
    "protobuf>=4,<7; python_version>='3.11'",
    "python-dotenv",
    "pytz",
    "requests",
    # setuptools <82 to provide pkg_resources for third-party deps that still
    # import it at runtime (e.g. aws-msk-iam-sasl-signer, pyfilesystem2, flatdict).
    # setuptools 82 removed pkg_resources entirely. Can be removed once all
    # transitive deps have migrated away from pkg_resources.
    "setuptools<82",
    "six",
    "tabulate",
    "tomli<3",
    "tqdm<5",
    "tzdata",
    "structlog",
    "sqlalchemy>=1.0,<3",
    "toposort>=1.0",
    "watchdog>=0.8.3,<7",
    'psutil>=1.0; platform_system=="Windows"',
    'pywin32!=226; platform_system=="Windows"',
    "docstring-parser",
    "universal_pathlib; python_version<'3.12'",
    "universal_pathlib>=0.2.0; python_version>='3.12'",
    "rich",
    "filelock",
    "dagster-pipes==1!0+dev",
    "dagster-shared==1!0+dev",
    "antlr4-python3-runtime",
]

[project.urls]
Homepage = "https://dagster.io"
GitHub = "https://github.com/dagster-io/dagster"
Documentation = "https://docs.dagster.io"
Changelog = "https://github.com/dagster-io/dagster/releases"
"Issue Tracker" = "https://github.com/dagster-io/dagster/issues"
Twitter = "https://twitter.com/dagster"
YouTube = "https://www.youtube.com/@dagsterio"
Slack = "https://dagster.io/slack"
Blog = "https://dagster.io/blog"
Newsletter = "https://dagster.io/newsletter-signup"

[project.scripts]
dagster = "dagster.cli:main"
dagster-daemon = "dagster.daemon.cli:main"

[project.entry-points."dagster_dg_cli.registry_modules"]
dagster = "dagster"

[project.optional-dependencies]
docker = ["docker"]
test = [
    "docker",
    "grpcio-tools>=1.66.2; python_version>='3.13'",
    "grpcio-tools>=1.44.0; python_version<'3.13'",
    "mypy-protobuf",
    "objgraph",
    "pytest-cov==5.0.0",
    "pytest-mock==3.14.0",
    "pytest-xdist==3.6.1",
    "pytest>=8",
    "pytest-asyncio",
    "pytest-timeout",
    "responses<=0.23.1",
    "syrupy>=4.0.0",
    "tox>=4",
    "morefs[asynclocal]",
    "fsspec<2024.5.0",
    "rapidfuzz",
    "flaky",
    "psutil",
    "ruff==0.15.0",
]
test-components = [
    "tomlkit",
    "jsonschema",
    "pandas<3.0.0",
    "duckdb",
]
mypy = ["mypy==1.8.0"]
pyright = [
    "pyright==1.1.379",
    # Stub packages
    "pandas-stubs",
    "types-backports",
    "types-certifi",
    "types-chardet",
    "types-cryptography",
    "types-mock",
    "types-paramiko",
    "types-pyOpenSSL",
    "types-python-dateutil~=2.9.0.20240316",
    "types-PyYAML",
    "types-pytz",
    "types-requests",
    "types-simplejson",
    "types-six",
    "types-tabulate",
    "types-tzlocal",
    "types-toml",
]
ruff = [
    "ruff==0.15.0",
]

[tool.setuptools]
include-package-data = true
zip-safe = false

[tool.setuptools.packages.find]
exclude = ["dagster_tests*"]

[tool.check-manifest]
ignore = [".coveragerc", "tox.ini", "pytest.ini", "dagster_tests/**"]
